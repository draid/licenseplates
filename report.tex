\documentclass[a4paper,12pt]{article}

\usepackage[left=1in, right=1in, top=0.5in, bottom=1in]{geometry}
\usepackage[latin2]{inputenc}
\usepackage{amsmath}
\usepackage{graphicx}
\usepackage[T1]{fontenc}
\usepackage{color}
\usepackage{amssymb}
\usepackage{times}
%Some useful macros

\definecolor{Cgreen}{rgb}{0,0.6,0}
\definecolor{Cblue}{rgb}{0,0.39,0.61}

\newcounter{ohNoteCounter}
\newcommand{\ohnote}[1]{{\scriptsize  \color{Cgreen} $\clubsuit$~\refstepcounter{ohNoteCounter}\textsf{[OH]$_{\arabic{ohNoteCounter}}$:{#1}}}}

\newcounter{jpNoteCounter}
\newcommand{\jpnote}[1]{{\scriptsize  \color{Cblue} $\blacksquare$ \refstepcounter{jpNoteCounter}\textsf{[JP]$_{\arabic{jpNoteCounter}}$:{#1}}}}

\IfFileExists{.notes_disabled}{
	\renewcommand{\jpnote}[1]{}
	\renewcommand{\ohnote}[1]{}
}

\begin{document}
\pagestyle{empty} \ohnote{This is useful way to leave notes. Both of
  us have command tu leave notes. I have \textbackslash ohnote, you
  have \textbackslash jpnote. Notes in whole document can be disabled
  by creating file with name ``.notes\_disabled''. }

\section{Problem Statement}
The problem is to report the unique identifying string of characters,
called the \emph{vehicle-id}, of a license plate.  Provided are images
of license plates that have been segmented and ortho-rectified. A
subset of these images each have the following corresponding
annotations: a top and bottom boundary that delimits the vehicle-id
within the segmented license plate, a bounding box of each character
and white-space interval that comprises the vehicle-id, and a
character label for each bounding box that contains a character.  We
assume that the font of all letters across license plates is
identical, and we refer to an exemplar of a character from the font
set as a \emph{template}.  

\section{Denotations}
Let $I\colon \mathbf{u} \to \mathbb{R}$ be a function that maps a
point $\mathbf{u} = (u_j,u_i)$ to a real value $x_{ij}$, so that $I$
gives the raw intensity value at each point in the image.  Denote
$\mathbf{x}_i$ and $\mathbf{x}_j$ as the row and column of pixels at
row $i$ and column $j$ respectively in the image.

\section{Model Definition}
We model a \emph{vehicle-id} by a Hidden Markov Model
(\bfseries{HMM}).

\begin{tabular}{ ll } 
  $x=(\mathbf{x}_1,\ldots,\mathbf{x}_n)$ & \emph{observations}: left-to-right sequence of columns in the
  image of the segmented license plate of width $n$ pixels,\\
  $\mathbf{K} = \{ s_k | \text{\,column\,} k \text{\,of a letter, or column of whitespace \,}\}$  \\
  $s=(s_1,\ldots,s_n)$ & \emph{hidden states}: sequence of hidden states $s_i$ where each state
  is the column of the letter template represented by $x_i$, \\
  \multicolumn{2}{|c|}{} \\
  $P(x,s)=p(s_j)\prod_{j=1}^{n} p(x_j \mid s_j)\prod_{j=2}^{n} p(s_j \mid s_{j-1})$.
\end{tabular}

\jpnote{Need to put something here about going from hidden states to
  characters}

\section{System Overview}

\section{Preprocessing}

\section{Learning}
We make the simplifying assumption that every two pixels intensities
of a column are pairwise independent. Therefore the probability of an
observed image column $\mathbf{x_j}$ given the hidden state $s_k$ can
be calculated as follows \[p(\mathbf{x_j}|s_k) = \prod_{i=1}^{m}
P(x_{ij}|s_k).\]

Given an image of a license plate, a pixel in the image can be either
part of the letter, which we call foreground, or part of the
background of the license plate.  Thus the probability of observing
image intenstity given hidden state $p(x_{ij}|s_k)$ is given by
\begin{equation}
  P(x_{ij}|s_k)=P(x_{ij}|f_{js_k})P(f_{js_k})+P(x_{ij}|\bar{f_{js_k}})P(\bar{f_{js_k}})
\end{equation}
  
  
We assume that foreground and background pixels of the license plate
are each normally distributed.  This motivates the choice of modeling
the probability of observed pixel $x_{ij}$ given hidden state $s_k$ as
the mixture of two gaussian distributions $\mathcal{N}_1(\sigma_1,
\mu_1), \mathcal{N}_2(\sigma_2, \mu_2)$ with mixing parameter so that
\begin{equation}
  P(x_{ij} | s_k) = \alpha_{is_k} \mathcal{N}_1 + (1-\alpha_{is_k})
  \mathcal{N}_2 .
\end{equation}

\jpnote{need to talk about how the model enables different
  distributions for each row of each hidden state}

  
The model is parameterized by Let $f : \mathcal{K}Â \mapsto
\mathcal{T}, \mathcal{T} = \{ \mathbf{t_k} | \mathbf{t_k} = (\alpha_1
, \dots , \alpha_n)\}$ be a function that maps state $s_k$ into the
template $\mathbf{t_k}$ which is vector of numbers $\alpha \in [0,
1]$.

The values of the unknown parameters $\mathcal{T}, \sigma_1, \sigma_2,
\mu_1, \mu_2$ will be learned from the annotated license plate data
set.

  \subsection{Expectation Maximization for Learning Emission
    probability obtain}

  
  distributions by running EM maximization algorithm on training set.
 

  

  \ohnote{Describe usage of EM alg.}


  \subsection{Setting Transition probabilities}

  \section{Inference}
\end{document}

